{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\project3\\\\src\\\\pages\\\\Edit.js\",\n  _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { DiaryDispatchContext } from \"../App\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport useDiary from \"../hooks/useDiary\";\nimport Button from \"../component/Button\";\nimport Header from \"../component/Header\";\nimport Editor from \"../component/Editor\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Edit = () => {\n  _s();\n  const {\n    onDelete,\n    onUpdate\n  } = useContext(DiaryDispatchContext);\n  const {\n    id\n  } = useParams();\n  console.log(useParams());\n  const data = useDiary(id);\n  const navigate = useNavigate();\n  const goBack = () => {\n    navigate(-1);\n  };\n  const onClickDelete = () => {\n    if (window.confirm(\"일기를 정말 삭제할까요? 다시 복구되지 않아요!\")) {\n      onDelete(id);\n      navigate(\"/\", {\n        replace: true\n      });\n    }\n  };\n  const onSubmit = data => {\n    if (window.confirm(\"일기를 정말 수정할까요?\")) {\n      const {\n        date,\n        content,\n        emotionId\n      } = data;\n      onUpdate(id, date, content, emotionId);\n      navigate(\"/\", {\n        replace: true\n      });\n    }\n  };\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uC77C\\uAE30\\uB97C \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        title: \"일기 수정하기\",\n        leftChild: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"< 뒤로 가기\",\n          onClick: goBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 22\n        }, this),\n        rightChild: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"negative\",\n          text: \"삭제하기\",\n          onClick: onClickDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        initData: data,\n        onSubmit: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this);\n  }\n};\n_s(Edit, \"w3r+FBVu/ZFOROjGnsVJxvrDpB8=\", false, function () {\n  return [useParams, useParams, useDiary, useNavigate];\n});\n_c = Edit;\nexport default Edit;\nvar _c;\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"names":["useContext","DiaryDispatchContext","useNavigate","useParams","useDiary","Button","Header","Editor","jsxDEV","_jsxDEV","Edit","_s","onDelete","onUpdate","id","console","log","data","navigate","goBack","onClickDelete","window","confirm","replace","onSubmit","date","content","emotionId","children","fileName","_jsxFileName","lineNumber","columnNumber","title","leftChild","text","onClick","rightChild","type","initData","_c","$RefreshReg$"],"sources":["D:/React/project3/src/pages/Edit.js"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { DiaryDispatchContext } from \"../App\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport useDiary from \"../hooks/useDiary\";\r\nimport Button from \"../component/Button\";\r\nimport Header from \"../component/Header\";\r\nimport Editor from \"../component/Editor\";\r\n\r\nconst Edit = () => {\r\n  const { onDelete, onUpdate } = useContext(DiaryDispatchContext);\r\n  const { id } = useParams();\r\n  console.log(useParams());\r\n  const data = useDiary(id);\r\n  const navigate = useNavigate();\r\n\r\n  const goBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  const onClickDelete = () => {\r\n    if (window.confirm(\"일기를 정말 삭제할까요? 다시 복구되지 않아요!\")) {\r\n      onDelete(id);\r\n      navigate(\"/\", { replace: true });\r\n    }\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    if (window.confirm(\"일기를 정말 수정할까요?\")) {\r\n      const { date, content, emotionId } = data;\r\n      onUpdate(id, date, content, emotionId);\r\n      navigate(\"/\", { replace: true });\r\n    }\r\n  };\r\n\r\n  if (!data) {\r\n    return <div>일기를 불러오고 있습니다...</div>;\r\n  } else {\r\n    return (\r\n      <div>\r\n        <Header\r\n          title={\"일기 수정하기\"}\r\n          leftChild={<Button text={\"< 뒤로 가기\"} onClick={goBack} />}\r\n          rightChild={\r\n            <Button\r\n              type={\"negative\"}\r\n              text={\"삭제하기\"}\r\n              onClick={onClickDelete}\r\n            />\r\n          }\r\n        />\r\n        <Editor initData={data} onSubmit={onSubmit} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default Edit;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}